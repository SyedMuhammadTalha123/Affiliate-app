(window.webpackJsonp=window.webpackJsonp||[]).push([["collection-route~editorial-route~explore-route~following-route~photos-route~search-photos-route~sear~296de1ab"],{BUGo:function(e,o,t){e.exports={colorWhite:"#fff",colorGrey200:"#eee",colorGrey400:"#d1d1d1",colorGrey700:"#767676",colorBlack:"#111",colorBlue:"#007fff",colorDarkBlue:"#006aff",button:"_39h47",followButtonOverrides:"_1vfrF",isFollowing:"_2br-F",icon:"ONxrv",iconWithText:"_10rYR"}},iX5W:function(e,o,t){"use strict";t.d(o,"a",(function(){return E}));var r=t("TSYQ"),l=t.n(r),s=t("SDew"),n=t("q1tI"),i=t.n(n),a=t("/MKj"),u=t("b2r9"),c=t("acyj"),b=t("d8i8"),d=t("pq3u"),h=t("2Fwo"),w=t("GBJA");var f=Object(w.a)("M23.7 24v2.7H2.3V24c0-3.5 7.1-5.3 10.7-5.3s10.7 1.8 10.7 5.3zM13 16c2.9 0 5.3-2.4 5.3-5.3S15.9 5.3 13 5.3s-5.3 2.4-5.3 5.3S10.1 16 13 16zm14.7-2.7v-4H25v4h-4V16h4v4h2.7v-4h4v-2.7h-4z");var p=Object(w.a)("M10.3 22.7l4-3.9c-.5-.1-.9-.1-1.3-.1-3.6 0-10.7 1.8-10.7 5.3v2.7h12l-4-4zM13 16c2.9 0 5.3-2.4 5.3-5.3S15.9 5.3 13 5.3s-5.3 2.4-5.3 5.3S10.1 16 13 16m8.6 11.3L17 22.7l1.9-1.9 2.8 2.8 6.8-6.9 1.9 1.9-8.8 8.7z"),m=t("cHeK"),v=t("LAdA"),g=t("uFXZ"),F=t("3q9+"),O=t("JzW6"),j=t("D6yk"),T=t("4YUS"),U=t("IVTL"),k=t("wmOD"),y=t("5aHv"),x=t("FXv3"),S=t("zrLP"),B=t("BUGo"),_=t.n(B);const L=Object(U.b)()({labelText:{isFollowing:"Following",isNotFollowing:"Follow"},shouldHideText:!1});class C extends n.Component{componentWillUnmount(){Object(T.b)(this.followSubscription)&&this.followSubscription.unsubscribe()}getLabelText(){const{labelText:e}=this.props;return this.props.user.followed_by_user?e.isFollowing:e.isNotFollowing}buildToLink(){const{user:e}=this.props;return Object(b.a)(y.c.Login({value:y.b.Follow({value:{userId:e.id}})}))}buildClickHandler(){const{authUser:e,user:o,followUser:t,unfollowUser:r,trackFollowButtonClick:l,trackUnfollowButtonClick:n,setErrorFlash:i,buttonType:a}=this.props;if(!1===Object(T.b)(e))return()=>l(o.id,a);const{username:u}=o,b=o.followed_by_user,d=b?m.a.users.unfollow:m.a.users.follow,h=Object(s.h)(d({username:u}),g.a(c.a),O.i(3),j.hb(1));return e=>{e.stopPropagation(),b?(r({userId:o.id}),n(o.id,a)):(t({userId:o.id}),l(o.id,a)),this.followSubscription=h.subscribe({next:F.n(e=>{const o=v.e(e)?"You need to confirm your email to follow a user.":"There was an error following the user.";i({message:o})}),error:e=>{i({message:"There was an error following the user."})}})}}renderContainer(e){const{user:o,className:t,authUser:r,buttonStyleType:s,shouldHideText:n}=this.props,a=this.buildClickHandler(),u=o.followed_by_user,c=!1===Object(T.b)(r),b=Object(U.b)()({className:l()(_.a.button,void 0===s&&_.a.followButtonOverrides,u&&_.a.isFollowing,t),buttonSize:"small",buttonType:s,title:n?this.getLabelText():void 0});return c?i.a.createElement(S.a,Object.assign({to:this.buildToLink(),onMouseUp:a},b),e):i.a.createElement(x.a,Object.assign({tag:"button",onMouseUp:a},b,{type:"button"}),e)}render(){const{user:e,authUser:o,shouldHideText:t}=this.props;if((null==o?void 0:o.username)===e.username)return null;{const o=l()(_.a.icon,!1===t&&_.a.iconWithText);return this.renderContainer(i.a.createElement(i.a.Fragment,null,e.followed_by_user?i.a.createElement(p,{className:o}):i.a.createElement(f,{className:o}),!1===t&&this.getLabelText()))}}}const H=Object(d.c)()(e=>({authUser:Object(k.e)(e)})),z=Object(d.b)()({trackFollowButtonClick:u.q,trackUnfollowButtonClick:u.y,setErrorFlash:u.a.SetErrorFlash,followUser:u.a.FollowUser,unfollowUser:u.a.UnfollowUser});var E=Object(s.h)(C,Object(a.c)(H,z),e=>Object(h.a)(e,L))}}]);
//# sourceMappingURL=collection-route~editorial-route~explore-route~following-route~photos-route~search-photos-route~sear~296de1ab.5e96d.js.map