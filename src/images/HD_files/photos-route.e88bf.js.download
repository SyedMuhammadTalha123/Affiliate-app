(window.webpackJsonp=window.webpackJsonp||[]).push([["photos-route"],{"3p8y":function(e,t,a){e.exports={navHeight:"62px",containerLayout:"PrOBO",modalBorderRadius:"4px",wrapper:"WMwuA",container:"_1OYbO PrOBO",stickyHeaderContainer:"_33qjA",stickyHeaderContainerInsideModal:"_324Yk _33qjA",stickyHeaderContainerOutsideModal:"_1u7Bx _33qjA",stickyHeader:"_2-NN4"}},"8hMo":function(e,t,a){e.exports={truncate:"_1ByhS",resetBtn:"_3d86A",colorBlack:"#111",transitionSpeedBase:"0.1s",containerTruncated:"_3PLD4",text:"KNDj7",textNotTruncated:"_2FfeD",textTruncated:"b5rtm _1ByhS",toggleButton:"_19oEl _3d86A"}},"8ogu":function(e,t,a){e.exports={colorGrey400:"#d1d1d1",colorGrey700:"#767676",fontWeightMedium:"xLon9",lineHeightTitle:"U8wGh",lineHeightCopy:"_13hUA",containerPaddingUnit:"16px",cellPaddingUnit:"8px",headerFontSize:"21px",smallFontSize:"12px",placeholderBackground:"_2VWD4",container:"_2inGn",cell:"_25hJ5",col:"_3QUjw",containerTitle:"_2F-Wi _2inGn",containerFooter:"_1jwED _2inGn",title:"_2SUYt U8wGh",datePublished:"_1QjX3",p:"_12tDI",stats:"_2Mfyb _2inGn",stat:"_1Eyon _25hJ5 _3QUjw",statLabel:"_3DKoV",statLabelIcon:"_1Lv3B",statLabelText:"_3XpFR xLon9",statValue:"_2MB4P",statValueTotal:"_33TT8 _13hUA",statValueDelta:"_3tx78",metadataItemName:"_1BtRQ",hr:"i_eho",metadata:"_3lSAR _2inGn",metadataItem:"z-nkg _25hJ5 _3QUjw",metadataItemValue:"_2MzDl",statValueTotalPlaceholder:"_2qIX_ _2VWD4",statValueDeltaPlaceholder:"_2gCEs _2VWD4"}},C4Tp:function(e,t,a){e.exports={fontWeightNormal:"_27Bp2",gutter:"12px",placeholderBackground:"_2VWD4",heading:"_1-q17 _27Bp2",placeholderItem:"_2x0NQ _2VWD4"}},Ha4l:function(e,t,a){e.exports={colorGrey700:"#767676",colorBlack:"#111",transitionSpeedBase:"0.1s",descriptionExpanded:"_2tqNT",descriptionTruncationNotRequired:"_1fn3S",descriptionTruncated:"_3kvp0"}},OUqd:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var o=a("q1tI"),n=a.n(o),s=a("SDew");const c=Object(s.f)(JSON.stringify,e=>e.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,"\\u003C!--"));var r=({jsonLD:e})=>{const t=Object(o.useMemo)(()=>c(e),[e]);return n.a.createElement("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:t}})}},Qx4Z:function(e,t,a){e.exports={colorWhite:"#fff",colorGrey700:"#767676",outerHorizontalGutter:"16px",innerHorizontalGutter:"8px",cellPadding:"calc(8px / 2)",container:"_307c3",actions:"_3-6v7",cell:"_2iWc-",buttonCell:"_27vvN _2iWc-",photographer:"HAAez _2iWc-",downloadButtonCell:"_13Q- _27vvN _2iWc-",downloadButton:"_1AA_u",editPhotoButton:"_2CQGn",secondaryLabel:"_2cSl3",paginationLink:"FeDt5 _27vvN _2iWc-"}},UzCZ:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return Da}));var o=a("SDew"),n=a("q1tI"),s=a.n(n),c=a("/MKj"),r=a("Ty5D"),i=a("b2r9"),l=a("acyj"),d=a("QfYr"),m=a("OcE/"),h=a("pq3u"),u=a("J4Es"),p=a("cHeK"),b=a("uFXZ"),g=a("JzW6"),O=a("m3R1"),j=a("jRy8"),E=a("Tz5c"),I=a("D6yk"),_=a("IVTL"),y=a("Jekn"),T=a("Wdkd"),f=a("uDtJ"),w=a("aMqU"),v=a("C8EU"),N=a("GBJA");var D=Object(N.a)("M27.5 18.08a1 1 0 0 0-1.42 0l-9.08 8.59v-23.67a1 1 0 0 0-2 0v23.67l-9.08-8.62a1 1 0 1 0-1.38 1.45l10.77 10.23a1.19 1.19 0 0 0 .15.09.54.54 0 0 0 .16.1.94.94 0 0 0 .76 0 .54.54 0 0 0 .16-.1l.15-.09 10.77-10.23a1 1 0 0 0 .04-1.42z");var R=Object(N.a)("M31.8 15.1l-.2-.4c-3.5-6.9-9.7-11.5-15.6-11.5-6.3 0-12.3 4.5-15.7 11.7l-.2.4c-.2.5-.2 1.1 0 1.6l.2.4c3.6 7 9.7 11.5 15.6 11.5 6.3 0 12.3-4.5 15.6-11.6l.2-.4c.4-.5.4-1.2.1-1.7zm-2 1.2c-3 6.5-8.3 10.5-13.8 10.5-5.2 0-10.6-4.1-13.8-10.4l-.2-.4.1-.3c3.1-6.5 8.4-10.5 13.9-10.5 5.2 0 10.6 4.1 13.8 10.4l.2.4-.2.3zm-13.8-6.6c-3.5 0-6.3 2.8-6.3 6.3s2.8 6.3 6.3 6.3 6.3-2.8 6.3-6.3-2.8-6.3-6.3-6.3zm0 10.6c-2.4 0-4.3-1.9-4.3-4.3s1.9-4.3 4.3-4.3 4.3 1.9 4.3 4.3-1.9 4.3-4.3 4.3z"),C=a("+nE3"),S=a("GVko"),x=a("6SPB"),P=a("phiu"),M=a("AcPn"),L=a("DYbG");const F=e=>"ƒ/"+e,B=e=>e+"s",k=e=>e+"mm";var A,G=a("8ogu"),H=a.n(G);!function(e){e[e.views=0]="views",e[e.downloads=1]="downloads"}(A||(A={}));const q=j.t(e=>E.o(e)||E.p(e)?j.F(e):j.B),W=({photo:e,statRemoteData:t})=>{const a=Object(o.h)(t,j.m(q),j.r);switch(a._tag){case"RemoteSuccess":{const t=a.value;return s.a.createElement("dd",{className:H.a.statValue},s.a.createElement("span",{className:H.a.statValueTotal},t.total.toLocaleString()),s.a.createElement("span",{className:H.a.statValueDelta},(({stat:e,photo:t})=>{const a=Object(o.h)(t.created_at,M.c),n=new Date,s=a<Object(P.a)(n,1)?j.F(e.historical.change):j.B;return Object(o.h)(s,j.w(e=>Object(w.d)(e)+" since last month"),j.o(()=>"since publishing"))})({stat:t,photo:e})))}case"RemotePending":return s.a.createElement("dd",{className:H.a.statValue},s.a.createElement("div",{className:H.a.statValueTotalPlaceholder}),s.a.createElement("div",{className:H.a.statValueDeltaPlaceholder}))}},z=({photo:e,type:t,statRemoteData:a})=>{const o=(e=>{switch(e){case A.views:return R;case A.downloads:return D}})(t);return s.a.createElement("div",{className:H.a.stat},s.a.createElement("dt",{className:H.a.statLabel},s.a.createElement(o,{className:H.a.statLabelIcon}),s.a.createElement("span",{className:H.a.statLabelText},(e=>{switch(e){case A.views:return"Views";case A.downloads:return"Downloads"}})(t))),W({photo:e,statRemoteData:a}))},Z=({photo:e,statsRemoteData:t})=>s.a.createElement("dl",{className:H.a.stats},z({photo:e,type:A.views,statRemoteData:Object(o.h)(t,E.q(e=>e.views))}),z({photo:e,type:A.downloads,statRemoteData:Object(o.h)(t,E.q(e=>e.downloads))}),s.a.createElement("div",{className:H.a.stat})),U=({photo:e,maybeCachedPhotoStats:t,photoStatsRemoteData:a})=>Object(o.h)(t,j.w(t=>Z({photo:e,statsRemoteData:E.s({views:t.views,downloads:t.downloads})})),j.b(()=>Object(o.h)(a,E.f(()=>j.B,()=>j.F(Z({photo:e,statsRemoteData:E.r})),e=>j.F(s.a.createElement("div",{className:H.a.container},s.a.createElement("div",{className:H.a.cell},s.a.createElement("p",{className:H.a.p},"Sorry, there was an error loading stats. Please try again later.")))),t=>j.F(Z({photo:e,statsRemoteData:E.s({views:t.views,downloads:t.downloads})})))))),V=({photo:e})=>{const t=(({photo:e})=>[{name:"Camera Make",value:Object(o.h)(j.l(e.exif.make),j.g(L.f.is))},{name:"Camera Model",value:j.l(e.exif.model)},{name:"Focal Length",value:Object(o.h)(j.l(e.exif.focal_length),j.w(k))},{name:"Aperture",value:Object(o.h)(j.l(e.exif.aperture),j.w(F))},{name:"Shutter Speed",value:Object(o.h)(j.l(e.exif.exposure_time),j.w(B))},{name:"ISO",value:j.l(e.exif.iso)},{name:"Dimensions",value:j.F(`${e.width} × ${e.height}`)}].map(({name:e,value:t})=>({name:e,value:Object(o.h)(t,j.o(()=>"--"))})))({photo:e});return s.a.createElement("dl",{className:H.a.metadata},t.map(({name:e,value:t})=>s.a.createElement("div",{key:e,className:H.a.metadataItem},s.a.createElement("dt",{className:H.a.metadataItemName},e),s.a.createElement("dd",{className:H.a.metadataItemValue},t))))},K=({photo:e,photoFullRemoteData:t})=>C.f(e)?j.F(V({photo:e})):Object(o.h)(t,E.f(()=>j.B,()=>j.F(s.a.createElement("div",{className:H.a.container},s.a.createElement("div",{className:H.a.cell},s.a.createElement(x.a,{padContentBelow:!1})))),e=>j.F(s.a.createElement("div",{className:H.a.container},s.a.createElement("div",{className:H.a.cell},s.a.createElement("p",{className:H.a.p},"Sorry, there was an error loading metadata. Please try again later.")))),e=>j.F(V({photo:e}))));var J=({photo:e})=>{const t=Object(n.useMemo)(S.a,[]),a=Object(n.useMemo)(S.c,[]),c=Object(v.a)(a=>t(a,e.id)),r=Object(v.a)(t=>a(t,e.id)),i=Object(o.h)(Object(w.b)(e.created_at),j.r),l=C.d(e)?j.F(e.statistics):j.B,d=Object(f.b)({render:e=>e})([{key:"stats",maybeEl:U({photo:e,maybeCachedPhotoStats:l,photoStatsRemoteData:r})},{key:"metadata",maybeEl:K({photo:e,photoFullRemoteData:c})}]);return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:H.a.containerTitle},s.a.createElement("div",{className:H.a.cell},s.a.createElement("h2",{className:H.a.title},"Info"),s.a.createElement("span",{className:H.a.datePublished},"Published on ",s.a.createElement("time",{dateTime:e.created_at},i)))),Object(f.a)(d,e=>s.a.createElement("hr",{key:"separator-"+e,className:H.a.hr})))},Q=a("NbrK"),$=a("gDEP"),Y=a("bB8w"),X=a("m/u0"),ee=a("dyzQ"),te=a("Fv/u"),ae=a("4/vE"),oe=a("fVvt"),ne=a.n(oe);const se=e=>({backgroundImage:["linear-gradient(hsla(0, 0%, 100%, 0.8), white 150px)",Q.l(e)].join(", ")}),ce=({rawPhotoUrl:e,maybeImgCurrentSrc:t})=>Object(o.h)(t,j.o(()=>{return t=e,Object($.b)(t)({w:200,blur:20});var t})),re=({rawPhotoUrl:e,maybeImgCurrentSrc:t})=>Object(o.h)(ce({rawPhotoUrl:e,maybeImgCurrentSrc:t}),se),ie=te.a.Windowed({scrollableOverlay:!0,contentClassName:ne.a.modalWindowedContentModifier}),le={scrollableOverlay:!0,contentClassName:ne.a.modalWindowedContentModifier};var de=({photoId:e,rawPhotoUrl:t,children:a})=>{const[o]=Object(Y.a)(ee.a),n=Object(X.b)(e,o);return s.a.createElement(ae.a,{redirectTo:{pathname:T.a.photoPath({photoId:e})},contentStyles:re({rawPhotoUrl:t,maybeImgCurrentSrc:n}),mobileLayout:ie,tabletUpWindowedLayout:le},a)},me=a("TJpk"),he=a.n(me),ue=a("d8i8"),pe=a("yQCG"),be=a("m2xi"),ge=a.n(be),Oe=a("s6EG"),je=a("9G+b"),Ee=a("vjdK"),Ie=a("OM6L");const _e=Object(o.f)(T.a.photoPath,Ee.a),ye=({photo:e,maybeSubRoute:t,user:a})=>{const n=(({user:e,photo:t})=>{const a=j.m(C.f)(t),n=j.l(t.alt_description),s=Object(o.h)(n,j.w(e=>e+" photo")),c=Object(o.h)(a,j.c(e=>Ie.o(e.tags)),j.w(e=>`Free ${ge()(e.title)} Image on Unsplash`));return Object(o.h)(j.E(s,c),j.w(([e,t])=>[e,t].join(" – ")),j.b(()=>c),j.b(()=>Object(o.h)(s,j.w(e=>[e,"Free Image on Unsplash"].join(" – ")))),j.p("HD photo by "+e.name))})({user:a,photo:e}),s=((e,t)=>{const a=["Download this free HD photo"];if(C.f(t)){const e=Object(o.h)(Object(je.a)(t.tags),j.p(""));a.push("of",e)}const n=j.m(C.f)(t),s=Ie.c([Object(o.h)(n,j.z(e=>e.location.city)),Object(o.h)(n,j.z(e=>e.location.country))]);if(s.length>0){const e=s.join(", ");a.push("in "+e)}return a.push(`by ${e.name} (@${e.username})`),a.join(" ")})(a,e),c=_e({photoId:e.id,maybeSubRoute:t}),r=`Photo by ${a.name} on Unsplash`;const i=(({user:e,photo:t})=>{const a=`Download this photo by ${e.name} on Unsplash`;return Ie.c([j.l(t.description),j.F(a)]).join(". ")})({user:a,photo:e});return Object(Oe.g)({userOption:j.F(a),photoOption:j.F(e),title:n,description:s,socialTitleOption:j.F(r),socialDescriptionOption:j.F(i),canonicalUrl:c,disableIndex:C.f(e)&&!1===e.meta.index})};var Te=a("QH2T"),fe=a("mjVK"),we=a("EqpS"),ve=a("TSYQ"),Ne=a.n(ve),De=a("55Ip"),Re=a("tD8i"),Ce=a("h8Sd"),Se=a("wmOD"),xe=a("zPuE"),Pe=a("FXv3"),Me=a("35id"),Le=a("zrLP"),Fe=a("OlR6"),Be=a("IsKo"),ke=a("HrMy"),Ae=a("QFtp"),Ge=a("8hMo"),He=a.n(Ge);const qe=Object(Ae.unionize)({NotRequired:{},Truncated:Object(Ae.ofType)(),Expanded:Object(Ae.ofType)()});class We extends n.PureComponent{constructor(e){super(e),this.updateRef=e=>{this.textElRef=e},this.state=this.getInitialState()}getInitialState(){return{doesRequireTruncation:!0,shouldForceTruncation:!0}}componentDidMount(){const e=(()=>{const e=Object(o.h)(j.l(this.textElRef),j.r);var t;return(t=e).offsetWidth<t.scrollWidth})();this.setState({doesRequireTruncation:e,shouldForceTruncation:!1})}render(){const{text:e,containerClassNameTruncated:t,containerClassNameExpanded:a,containerClassNameTruncationNotRequired:n}=this.props,c=(({onRequestToggle:e,shouldTruncateIfRequired:t,shouldShowTruncateButtonWhenExpanded:a},{doesRequireTruncation:o,shouldForceTruncation:n})=>o?n||t?qe.Truncated({onRequestToggle:e}):qe.Expanded({onRequestToggle:e,shouldShowTruncateButton:a}):qe.NotRequired())(this.props,this.state),r=qe.match({Truncated:({onRequestToggle:e})=>j.F({buttonText:"Read more",onRequestToggle:e}),Expanded:({onRequestToggle:e,shouldShowTruncateButton:t})=>t?j.F({buttonText:"Show less",onRequestToggle:e}):j.B,NotRequired:()=>j.B})(c);return s.a.createElement("div",{className:Ne()(qe.match({Truncated:()=>[He.a.containerTruncated,t],Expanded:()=>[a],NotRequired:()=>[n]})(c))},s.a.createElement("p",{ref:this.updateRef,className:Ne()(He.a.text,qe.match({Truncated:()=>He.a.textTruncated,default:()=>He.a.textNotTruncated})(c))},e)," ",Object(o.h)(r,j.w(({buttonText:e,onRequestToggle:t})=>s.a.createElement("button",{className:He.a.toggleButton,onClick:t,type:"button"},e)),j.I))}}var ze=We,Ze=a("Ha4l"),Ue=a.n(Ze);var Ve=Object(Be.progressivelyEnhance)(({description:e})=>{const t=Object(pe.d)(),a=Object(pe.a)(),o=Object(ue.m)(t),{shouldTruncateDescription:c}=o,r=Object(n.useCallback)(()=>{ke.b.addBreadcrumb({category:ke.a.PhotoPage,message:"request toggle truncated description"}),a.replace(Object(ue.u)(e=>Object.assign(Object.assign({},e),{shouldTruncateDescription:!1===e.shouldTruncateDescription}))(t))},[a,t]);return s.a.createElement(ze,{key:e,text:e,containerClassNameTruncationNotRequired:Ue.a.descriptionTruncationNotRequired,containerClassNameExpanded:Ue.a.descriptionExpanded,containerClassNameTruncated:Ue.a.descriptionTruncated,shouldTruncateIfRequired:c,shouldShowTruncateButtonWhenExpanded:!1,onRequestToggle:r})}),Ke=a("pKCy"),Je=a.n(Ke);const Qe=e=>s.a.createElement("div",{className:Je.a.textContainerItem},e),$e=({subRoute:e,location:t,photo:a})=>({pathname:T.a.photoPath({photoId:a.id,maybeSubRoute:j.F(e)}),state:t.state}),Ye=Object(h.e)()({authUserOption:Se.g});var Xe=Object(o.h)(({photo:e,authUserOption:t,user:a})=>{const n=Object(pe.d)(),c=$e({subRoute:T.b.PhotoSubRoute.info,location:n,photo:e}),r=$e({subRoute:T.b.PhotoSubRoute.share,location:n,photo:e}),i=j.l(e.description),l=Object(o.h)(j.F(e),j.g(C.f),j.c(e=>j.l(e.location.name)),j.g(L.f.is)),d=Object(o.h)(t,j.f(e=>e.id===a.id)),m={url:e.links.html,title:Object(o.h)(j.l(e.alt_description),j.p("")),text:`Thanks to ${a.name} @${a.username} for making this photo available freely on Unsplash 🎁`};return s.a.createElement("div",{className:Je.a.container},s.a.createElement("div",{className:Je.a.textContainer},Object(o.h)(l,j.w(e=>s.a.createElement(De.a,{to:T.a.searchPhotosPathFromDecodedQuery(e),className:Je.a.locationLink},s.a.createElement(Ce.a,{className:Je.a.locationIcon}),s.a.createElement("span",{className:Je.a.locationTitle},e))),j.w(Qe),j.I),Object(o.h)(i,j.w(e=>s.a.createElement(Ve,{description:e})),j.w(Qe),j.I)),d&&s.a.createElement("div",{className:Ne()(Je.a.cell,Je.a.editPhotoButtonContainer)},s.a.createElement(Me.a,{photoId:e.id,type:"default"})),s.a.createElement("div",{className:Je.a.cell},s.a.createElement(Fe.a,{shareLocationDescriptor:r,shareOptions:m,renderButton:e=>s.a.createElement(Pe.a,Object.assign({tag:"button"},e,{type:"button"})),renderLink:e=>s.a.createElement(Le.a,Object.assign({},e))})),s.a.createElement("div",{className:Je.a.cell},s.a.createElement(Le.a,{className:Je.a.button,buttonType:xe.a.Outline,buttonSize:"small",to:c},s.a.createElement(Re.a,{className:Je.a.buttonIcon}),s.a.createElement("span",{className:Je.a.buttonText},"Info"))))},Object(c.c)(Ye)),et=a("M9j0"),tt=a("KPJC"),at=a("dkli"),ot=a("5dpl"),nt=a("aOaN"),st=a("Qx4Z"),ct=a.n(st);const rt=Object(h.c)()((e,{photoId:t})=>({photo:Object(y.a)(e,t),isLoggedIn:Object(Se.j)(e),authUserOption:Object(Se.g)(e)}));var it=Object(o.h)(({className:e,photo:t,isLoggedIn:a,authUserOption:c})=>{const r=a?void 0:"green",i=a?"Download":"Download free",l=Object(o.h)(c,j.f(e=>e.id===t.userId)),d=Object(n.useMemo)(()=>Object(o.h)(j.l(t.sponsorship),j.w(e=>nt.a.Sponsored({sponsorship:e,secondaryLabelClassName:ct.a.secondaryLabel})),j.o(()=>nt.a.NotSponsored({shouldShowUsername:!0}))),[t.sponsorship]);return s.a.createElement("header",{className:Ne()(e,ct.a.container)},s.a.createElement("div",{className:ct.a.photographer},s.a.createElement(ot.a,{userId:t.userId,contentType:d,type:"emphasiseUsername"})),s.a.createElement("div",{className:ct.a.actions},s.a.createElement("div",{className:ct.a.buttonCell},l&&s.a.createElement(Me.a,{photoId:t.id,type:"default",className:ct.a.editPhotoButton}),s.a.createElement(at.a,{photoId:t.id})),s.a.createElement("div",{className:ct.a.buttonCell},s.a.createElement(et.a,{photoId:t.id})),s.a.createElement("div",{className:ct.a.downloadButtonCell},s.a.createElement(tt.a,{photoId:t.id,type:r,label:i,className:ct.a.downloadButton,showSizesDropdown:!0}))))},Object(c.c)(rt)),lt=a("jW5K"),dt=a.n(lt),mt=a("x4cj"),ht=a("PCiO"),ut=a("fCYy"),pt=a("KwrD"),bt=a("215O");const gt=(e,t)=>((e,t,a)=>Object(o.h)(Object(n.useMemo)(e,t),e=>Object(bt.a)(e,a)))(e,t,j.e);var Ot=Object(N.a)("M14.5 19.3l-6 6h4.8V28H4v-9.3h2.7v4.8l6-6 1.8 1.8zM18.7 4v2.7h4.8l-6 6 1.9 1.9 6-6v4.8H28V4h-9.3z");var jt=Object(N.a)("M22 12h4.8v2.7h-9.5V5.2H20V10l6.1-6L28 5.9 22 12zM5.2 20H10l-6 6.1L5.9 28l6.1-6v4.8h2.7v-9.5H5.2V20z"),Et=a("JOe8"),It=a("zCdt"),_t=a("OUqd");var yt=a("uYHa"),Tt=a("jNAd"),ft=a("aGzw"),wt=a.n(ft);const vt=Object(Ae.unionize)({Unenhanced:Object(Ae.ofType)(),Enhanced:Object(Ae.ofType)()}),Nt=({magicalVerticalOffset:e})=>{const t=()=>{const t=Q.j(10),a=20+e,o=Q.g({styles:ct.a,key:"outerHorizontalGutter"});return{TOTAL_HORIZONTAL_PADDING:2*o,TOTAL_VERTICAL_PADDING:a,HORIZONTAL_PADDING_LENGTH:Q.j(o),VERTICAL_PADDING_LENGTH:t}},{TOTAL_HORIZONTAL_PADDING:a,TOTAL_VERTICAL_PADDING:n}=t(),s=Q.f(1),{IMAGE_WIDTH_CONSTRAINED_TO_VIEWPORT_WIDTH_LENGTH:c,IMAGE_HEIGHT_CONSTRAINED_TO_VIEWPORT_HEIGHT_LENGTH:r}={IMAGE_WIDTH_CONSTRAINED_TO_VIEWPORT_WIDTH_LENGTH:Q.b(`${s} - ${Q.j(a)}`),IMAGE_HEIGHT_CONSTRAINED_TO_VIEWPORT_HEIGHT_LENGTH:Q.b("100vh - "+Q.j(n))},i=({photoDimensions:e})=>{if(Object(Tt.d)(e)){const{width:t,height:a}=e,o=t/a;return(e=>Math.ceil(e*o))(500)}return 500},l=({photoDimensions:e})=>{const{width:t,height:a}=e,o=t/a,n=i({photoDimensions:e});var s;return{minWidthLength:Q.j(n),maxWidthLength:(s=r,Q.b(`(${s}) * ${Object(yt.f)(o)}`))}},d=Object(o.f)(({photoDimensions:e,isZoomedOut:t})=>{if(t){const{minWidthLength:t,maxWidthLength:o}=l({photoDimensions:e}),{isMinSizeMediaConditions:s,isConstrainedByViewportHeightMediaCondition:r}=(({photoDimensions:e})=>{const{width:t,height:o}=e,s=o/t,c=i({photoDimensions:e}),r=(l=c,Math.ceil(l*s));var l;return{isMinSizeMediaConditions:[`(max-width: ${Q.j(c+a)})`,`(max-height: ${Q.j(r+n)})`],isConstrainedByViewportHeightMediaCondition:`(min-aspect-ratio: ${t}/${o})`}})({photoDimensions:e});return[...s.map(e=>({mediaCondition:e,width:t})),{mediaCondition:r,width:o},{width:c}]}return[{width:s}]},e=>[{mediaCondition:wt.a.isFixedMediaCondition,width:s},...e]),m=Object(o.f)(d,ht.f);return{getPaddingConstants:t,getImgSrcSetString:({photoDimensions:e,baseUrl:t})=>{const{width:a}=e,{lowerBound:o,upperBound:n}=(({photoDimensions:e})=>{const{width:t,height:a}=e,o=t/a;var n;return{lowerBound:(n=500,Math.ceil(n*o)),upperBound:t}})({photoDimensions:e});return Object(ht.c)({baseUrl:t,lowerBound:o,upperBound:n,originalWidth:a,interval:300,imgixParams:{q:80}})},getMinAndMaxWidthsLengths:l,getImgSizesString:m,createFallbackSrc:e=>Object($.b)(e)({w:1e3,q:80})}},Dt=s.a.memo(({photo:e,magicalVerticalOffset:t,isZoomedOut:a})=>{const c=s.a.useMemo(()=>Object(o.h)(Et.a.getStandardData({photo:e}),Et.a.Union.Photo,Et.c,Et.b(e)),[e]),r=c.urls.raw,[i,l]=Object(n.useState)(!0);dt()(()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{l(!1)})})});const{getImgSizesString:d,getImgSrcSetString:m,createFallbackSrc:h}=Nt({magicalVerticalOffset:t}),{width:u,height:p}=c,b=Object(n.useMemo)(()=>({width:u,height:p}),[p,u]),g=Object(n.useMemo)(()=>d({isZoomedOut:a,photoDimensions:b}),[d,a,b]),O=Object(n.useCallback)(()=>m({photoDimensions:b,baseUrl:r}),[r,m,b]),E=Object(n.useMemo)(()=>h(r),[r,h]),[I]=Object(Y.a)(ee.a),_=gt(()=>Object(X.b)(c.id,I),[]),y=Object(n.useMemo)(()=>i?Object(o.h)(_,j.w(e=>Object(ht.g)([{url:e}])),j.o(O)):O(),[O,_,i]),T=Object(n.useMemo)(()=>j.F({sizes:g,srcSet:y,src:E,alt:Object(o.h)(j.l(c.alt_description),j.I)}),[E,g,y,c.alt_description]),f=Object(n.useMemo)(()=>ut.e(c),[c]);return s.a.createElement(It.a,{aspectRatio:c,containerClassName:wt.a.imagePlaceholder,responseOption:T,placeholderConfig:f})});class Rt extends n.PureComponent{constructor(){super(...arguments),this.onRequestMainImageToggleZoom=()=>{ke.b.addBreadcrumb({category:ke.a.PhotoPage,message:"request toggle main image zoom"}),this.trackToggleZoomableMainImageZoom(),this.toggleZoomableMainImageZoom()},this._getMainImageRenderType=Object(mt.e)(({location:e,renderType:t})=>{const a=Object(ue.m)(e);return pt.a.match({Unenhanced:()=>vt.Unenhanced({zoomable:{isZoomedOut:a.zoomableMainImageOptions.isZoomedOut}}),Enhanced:()=>vt.Enhanced({zoomable:{isZoomedOut:a.zoomableMainImageOptions.isZoomedOut,onRequestToggleZoom:this.onRequestMainImageToggleZoom}})})(t)}),this.getMainImageRenderType=()=>{const{location:e,renderType:t}=this.props;return this._getMainImageRenderType({location:e,renderType:t})},this.renderZoomableImageOverlay=({isZoomedOut:e})=>{const t=e?Ot:jt;return s.a.createElement("div",{className:wt.a.overlay},s.a.createElement("div",{className:wt.a.overlayChild},s.a.createElement(t,{className:wt.a.zoomToggleIcon})))},this.renderImage=()=>{const{photo:e,magicalVerticalOffset:t}=this.props;return s.a.createElement(Dt,{key:e.id,photo:e,magicalVerticalOffset:t,isZoomedOut:this.getMainImageRenderType().zoomable.isZoomedOut})},this.renderImageWithJsonLd=()=>{const{photo:e,user:t}=this.props,a=j.m(C.f)(e),n=Object(o.h)(a,j.w(e=>{const a=(({user:e,photoFull:t})=>({"@context":"https://schema.org","@type":"ImageObject",author:{"@type":"Person",name:e.name},contentLocation:Object(o.h)(j.l(t.location.name),j.w(e=>({"@type":"Place",name:e})),j.I),contentUrl:t.urls.full,thumbnail:{"@type":"ImageObject",url:t.urls.thumb},datePublished:t.created_at,description:Object(o.h)(j.l(t.alt_description),j.I),name:Object(o.h)(j.l(t.alt_description),j.I),acquireLicensePage:Object(o.f)(T.a.photoPath,Ee.a)({photoId:t.id}),license:Object(Ee.a)(T.c.LICENSE),width:t.width+"px",height:t.height+"px",isAccessibleForFree:!0,isFamilyFriendly:!0,caption:Object(o.h)(j.l(t.description),j.b(()=>j.l(t.alt_description)),j.I),representativeOfPage:!0}))({user:t,photoFull:e});return s.a.createElement(_t.a,{jsonLD:a})}));return s.a.createElement(s.a.Fragment,null,Object(o.h)(n,j.H),this.renderImage())},this.renderZoomableImageButton=e=>{const{isZoomedOut:t,onRequestToggleZoom:a}=e,o=Ne()(wt.a.imageButton,t?wt.a.imageButtonZoomedOut:wt.a.imageButtonZoomedIn);return s.a.createElement("button",{className:o,onClick:a,type:"button"},this.renderZoomableImageOverlay(e),this.renderImageWithJsonLd())},this.renderZoomableImageContainer=()=>{const{photo:e,magicalVerticalOffset:t}=this.props,{getMinAndMaxWidthsLengths:a,getPaddingConstants:o}=Nt({magicalVerticalOffset:t}),n=this.getMainImageRenderType(),{isZoomedOut:c}=n.zoomable,{HORIZONTAL_PADDING_LENGTH:r,VERTICAL_PADDING_LENGTH:i}=o(),{width:l,height:d}=e,m={width:l,height:d},{minWidthLength:h,maxWidthLength:u}=a({photoDimensions:m});return s.a.createElement("div",{style:c?{padding:`${i} ${r}`}:{}},s.a.createElement("div",{style:c?{minWidth:h,maxWidth:u}:{},className:wt.a.imageContainer},vt.match({Unenhanced:this.renderImage,Enhanced:e=>this.renderZoomableImageButton(e.zoomable)})(n)))}}trackToggleZoomableMainImageZoom(){const{location:e,dispatch:t,photo:a}=this.props,{zoomableMainImageOptions:o}=Object(ue.m)(e);o.isZoomedOut?t(Object(i.z)(a.id)):t(Object(i.A)(a.id))}toggleZoomableMainImageZoom(){const{history:e,location:t,dispatch:a}=this.props;Object(ue.e)(t)&&a(Object(i.g)()),e.replace(Object(ue.u)(e=>Object.assign(Object.assign({},e),{zoomableMainImageOptions:Object.assign(Object.assign({},e.zoomableMainImageOptions),{isZoomedOut:!1===e.zoomableMainImageOptions.isZoomedOut})}))(t))}render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:wt.a.isFixed},this.renderImageWithJsonLd()),s.a.createElement("div",{className:wt.a.isZoomable},this.renderZoomableImageContainer()))}}var Ct,St=Object(o.h)(Rt,pt.c,r.h,Object(c.c)(null));!function(e){e.related="related",e.collected="collected"}(Ct||(Ct={}));var xt=a("4raZ"),Pt=a("R3Dg"),Mt=a("lpo+"),Lt=a("RwKq"),Ft=a("G4qV"),Bt=a("PwPQ"),kt=a("x5qg");const At=e=>Object(o.h)(T.b.Union.Photos({photoId:e,maybeSubRoute:j.B}),Bt.a),Gt=()=>{const e=Object(kt.b)();return Object(Ft.a)((t,a)=>e(t,At(a)),Object(mt.i)(E.q(({ids:e})=>e)))};var Ht=a("QK6j"),qt=a("GODr"),Wt=a("A75h"),zt=a("XJg7"),Zt=a("lS9m"),Ut=a("CdAG"),Vt=a("G/bK");const Kt=Wt.a.match({Phone:()=>12,Tablet:()=>24,Desktop:()=>24});var Jt=a("C4Tp"),Qt=a.n(Jt);const $t=()=>I.c,Yt=s.a.memo(({columnCount:e,gutter:t})=>{const a=Object(n.useMemo)(()=>Ie.B(0,17).map(e=>({key:e,width:250,height:250,element:s.a.createElement("div",{className:Qt.a.placeholderItem})})),[]);return s.a.createElement(zt.a,{items:a,columnCount:Ht.f(e),columnGutter:t,rowGutter:t})}),Xt=Mt.a.multi(),ea=Object(o.f)(Et.a.Union.RelatedPhotos,j.F),ta=({photoId:e})=>{const t=At(e),[a,c]=Object(Lt.a)(),r=Object(v.a)(Wt.e),i=Kt(r),l=Object(n.useMemo)(()=>({mobileLayout:Xt,columnGutter:i}),[i]),d=s.a.useMemo(()=>j.F({make:ea}),[]);return s.a.createElement("div",{ref:a},Object(o.h)(c,j.w(e=>{const a=e.width<=1e3?Ht.b:Ht.a;return s.a.createElement(Zt.a,null,s.a.createElement(Vt.a,{feedId:t,fetchPhotos:$t,getPlaceholderEl:()=>s.a.createElement(Yt,{columnCount:a,gutter:i})},e=>s.a.createElement(Et.a.Context.Provider,{value:d},s.a.createElement(Ut.a,{grid:l,photos:e,columnCount:a,rowGutter:i,promptPlacement:qt.a.RelatedPhotos}))))}),j.H))},aa=e=>s.a.createElement(s.a.Fragment,null,s.a.createElement("h4",{className:Qt.a.heading},"Related photos"),s.a.createElement(ta,{photoId:e}));var oa=s.a.memo(({photoId:e})=>{const t=Object(n.useMemo)(Gt,[]),a=Object(v.a)(a=>t(a,e));return Object(o.h)(a,E.f(()=>null,()=>aa(e),()=>null,t=>Ie.r(t)?null:aa(e)))}),na=a("rd0y");const sa=[...a("yNRK").a.map(({title:e,url:t})=>({title:e,linkUrl:t})),{title:"Free pictures",linkUrl:T.c.EXPLORE}],ca=({originalPhotoTags:e,isLoggedIn:t})=>e.length>4&&!1===t,ra=({photoId:e})=>Object(o.f)(ca,t=>t?j.F((({photoId:e})=>Ie.z({seed:e,array:sa}))({photoId:e})):j.B),ia=e=>{const t=e.type===Ct.related?"Related collections":"Featured in",a=e.result_ids;return s.a.createElement(xt.a,{relatedCollectionIds:a,heading:t})},la=Object(h.c)()((e,t)=>({isLoggedIn:Object(Se.j)(e)}));var da=Object(o.h)(({photo:e,isLoggedIn:t})=>{const a=j.l(C.f(e)?e.related_collections:void 0),n=C.f(e)?j.F(e.tags):j.B;return s.a.createElement(s.a.Fragment,null,s.a.createElement(oa,{photoId:e.id}),Object(o.h)(a,j.w(ia),j.p(void 0)),Object(o.h)(n,j.w(a=>{const n=(({originalPhotoTags:e,photoId:t,isLoggedIn:a})=>{const n=Ie.c([ra({photoId:t})({originalPhotoTags:e,isLoggedIn:a})]);return[...Object(o.h)(e,Ie.H(na.b)),...n]})({originalPhotoTags:a,photoId:e.id,isLoggedIn:t});return s.a.createElement(Pt.a,{headingCopy:"Related tags",tags:n,showHeading:!0,maximumResultsCount:1/0})}),j.I))},Object(c.c)(la)),ma=a("3p8y"),ha=a.n(ma);var ua=Object(o.h)(({photo:e,children:t,maybeSubRoute:a})=>{const o=Object(pe.d)(),n=Object(ue.e)(o),c=n?155:200,r=Object(v.a)(t=>Object(y.g)(t,e.id));return s.a.createElement("div",Object.assign({},Object(fe.a)(Te.p)),s.a.createElement("div",{className:ha.a.wrapper},s.a.createElement(he.a,Object.assign({},ye({photo:e,maybeSubRoute:a,user:r}))),s.a.createElement("div",null,s.a.createElement("div",{className:n?ha.a.stickyHeaderContainerInsideModal:ha.a.stickyHeaderContainerOutsideModal},s.a.createElement(it,{photoId:e.id,className:n?ha.a.stickyHeader:void 0})),s.a.createElement(we.a,{photoId:e.id},s.a.createElement(St,{photo:e,magicalVerticalOffset:c,user:r})),s.a.createElement(Xe,{photo:e,user:r})),s.a.createElement("div",{className:ha.a.container},s.a.createElement(da,{photo:e}))),t)},e=>Object(n.memo)(e)),pa=a("G954"),ba=a("5ZMw"),ga=a("SORa"),Oa=a("41dW");const ja={utmContent:ba.e.PHOTOS_PAGE_SHARE};var Ea=({photo:e})=>{const t=e.links.html,a=Object(v.a)(t=>Object(y.g)(t,e.id)),o=Object(pa.b)(a),c=Object($.b)(e.urls.raw)({w:2e3}),r=Object(n.useMemo)(()=>[ga.a.facebook(),ga.a.pinterest({message:o,media:c}),ga.a.twitter({message:o}),ga.a.email()].map(e=>({type:e,url:t,trackUrlOptions:ja})),[t,c,o]);return s.a.createElement(Oa.a,{title:"Photo by "+a.name,buttonsShareProps:r,link:t})},Ia=a("ZfPj"),_a=a("3q9+"),ya=a("gI8/");class Ta extends n.Component{constructor(){super(...arguments),this.routeChangeSubject=new I.e,this.unmountSubject=new I.e}componentDidMount(){this.fetchDataIfNecessary()}componentDidUpdate(e){const{subRoute:t}=this.props;t!==e.subRoute&&(this.routeChangeSubject.next(),this.fetchDataIfNecessary())}fetchDataIfNecessary(){const{routeData:e,dispatch:t,history:a,staleDataOption:n}=this.props;if(Object(o.h)(n,j.u)){Object(o.h)(Object(ya.a)(e),b.a(l.a),g.g(([e])=>e),I.jb(I.N(this.routeChangeSubject,this.unmountSubject)),I.eb(_a.m([i.a.IncrementDataFetchingCounter()])),I.x(_a.m([i.a.RouteDataUpdated(),i.a.DecrementDataFetchingCounter()])),I.k(0),I.L(Ie.m)).subscribe(Object(Ia.b)({dispatch:t,history:a}))}}componentWillUnmount(){this.unmountSubject.next(),this.unmountSubject.complete()}render(){return this.props.children}}const fa=Object(h.d)()(()=>{const e=Object(ya.b)();return(t,{routeData:a})=>({staleDataOption:e(t,a)})});var wa=Object(o.h)(Ta,Object(c.c)(fa),r.h);class va extends n.PureComponent{constructor(){super(...arguments),this.onRootRouteLeaveSubject=new I.e}componentDidMount(){this.fetchRelatedPhotosThenCacheAndSet()}componentDidUpdate(e){this.props.routeData.photoId!==e.routeData.photoId&&(this.cleanup(),this.fetchRelatedPhotosThenCacheAndSet())}componentWillUnmount(){this.cleanup()}cleanup(){this.onRootRouteLeaveSubject.next({})}updateRelatedPhotoIdsRemoteData(e){const{dispatch:t,routeData:a}=this.props,{photoId:n}=a,s=Object(o.h)(e,E.q(e=>({lastPageFetched:1,perPage:e.length,total:e.length,ids:e}))),c=At(n);t(i.a.AddPhotoFeedRemoteData({feedId:c,request:s}))}fetchRelatedPhotosThenCacheAndSet(){const{routeData:e,relatedPhotoIdsRemoteData:t,dispatch:a,history:n}=this.props,{photoId:s}=e;if(!1===E.p(t)){const e=E.r;a(i.a.IncrementDataFetchingCounter()),this.updateRelatedPhotoIdsRemoteData(e);Object(o.h)(p.a.photos.getRelated({photoId:s}),b.a(l.a),g.g(([e])=>e),O.e,I.A(E.k),O.f(e=>Object(m.f)(e.results)),I.jb(this.onRootRouteLeaveSubject)).subscribe({next:e=>{Object(c.b)(()=>{Object(o.h)(e,E.t,j.j(({entities:e})=>{a(i.C(e))})),this.updateRelatedPhotoIdsRemoteData(Object(o.h)(e,E.q(({result:e})=>e)))})},complete:()=>{a(i.a.DecrementDataFetchingCounter())},error:Object(d.c)(n)})}}renderSubRoute({photo:e,subRoute:t}){const a=Object(_.b)()({photo:e});switch(t){case T.b.PhotoSubRoute.info:return s.a.createElement(J,Object.assign({},a));case T.b.PhotoSubRoute.share:return s.a.createElement(Ea,Object.assign({},a))}}renderSubRouteWithWrapper(e){const{routeData:t}=this.props;return Object(o.h)(t.maybeSubRoute,j.w(a=>s.a.createElement(wa,{subRoute:a,routeData:t},s.a.createElement(de,{photoId:e.id,rawPhotoUrl:e.urls.raw},this.renderSubRoute({photo:e,subRoute:a})))),j.I)}render(){const{photoOption:e,routeData:t}=this.props;return Object(o.h)(e,j.w(e=>s.a.createElement(ua,{maybeSubRoute:t.maybeSubRoute,photo:e},this.renderSubRouteWithWrapper(e))),j.H)}}const Na=Object(h.d)()(()=>{const e=Object(y.h)(),t=Gt();return(a,o)=>{const{photoId:n}=o.routeData;return{photoOption:e(a,n),relatedPhotoIdsRemoteData:t(a,n)}}});var Da=Object(o.h)(va,Object(u.b)({routeType:u.a.DynamicRoute}),Object(c.c)(Na),r.h)},ZhgG:function(e,t,a){e.exports={colorBlack:"#111",colorWhite:"#fff",transitionSpeedBase:"0.1s",container:"_332qM",content:"_1jlc7",tooltip:"_2lnv7",tooltipMultiLine:"_1qCFx"}},aGzw:function(e,t,a){e.exports={resetBtn:"_3d86A",spacingUnit:"4px",centerItem:"_3mCZ_",colorWhite:"#fff",colorGrey100:"#f5f5f5",isFixedMediaCondition:"(max-width: 767px)",isZoomableMediaCondition:"(min-width: 768px)",imagePlaceholder:"_2yFK-",imageContainer:"_1ac-D _3mCZ_",imageButton:"_1szcv _3d86A",overlay:"_2MKkb",imageButtonZoomedIn:"_2-OhB",imageButtonZoomedOut:"_1YS_6",overlayChild:"_1w7cG",zoomToggleIcon:"_1NYtf",isFixed:"pADQw",isZoomable:"_2QvSN"}},eodw:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var o=a("TSYQ"),n=a.n(o),s=a("q1tI"),c=a.n(s),r=a("4YUS"),i=a("ZhgG"),l=a.n(i);var d=e=>{const{children:t,label:a,bottom:o,width:s,className:i}=e,d=Object(r.b)(t.props)&&t.props.className,m=void 0!==s&&0!==s;return c.a.createElement("div",{className:n()(l.a.container,i)},c.a.cloneElement(t,Object.assign({},t.props,{className:n()([l.a.content],d)})),c.a.createElement("span",{className:n()(l.a.tooltip,m&&l.a.tooltipMultiLine),style:{width:s,bottom:o}},a))}},fVvt:function(e,t,a){e.exports={modalWindowedContentModifier:"_2AYJu"}},h8Sd:function(e,t,a){"use strict";var o=a("GBJA");t.a=Object(o.a)("M16 2.66669C9.99998 2.66669 5.33331 7.06669 5.33331 12.6667C5.33331 19.8667 12.9333 27.0667 15.3333 29.0667C15.7333 29.4267 16.2666 29.4267 16.6666 29.0667C19.0666 27.0667 26.6666 19.8667 26.6666 12.6667C26.6666 7.06669 22 2.66669 16 2.66669ZM16 18.6667C13.0666 18.6667 10.6666 16.2667 10.6666 13.3334C10.6666 10.4 13.0666 8.00002 16 8.00002C18.9333 8.00002 21.3333 10.4 21.3333 13.3334C21.3333 16.2667 18.9333 18.6667 16 18.6667Z")},pKCy:function(e,t,a){e.exports={spacingUnit:"4px",colorBlack:"#111",truncate:"_1ByhS",fontWeightMedium:"xLon9",resetBtn:"_3d86A",outerHorizontalGutter:"16px",innerHorizontalGutter:"8px",cellPadding:"calc(8px / 2)",smallFontSize:"12px",container:"_1ltEq",cell:"_3dxKb",halfCell:"_3kEvh",textContainer:"_2DxLe _3kEvh",textContainerNotTruncated:"gfzKD",textContainerTruncated:"OD7Kw",textContainerItem:"_28uSB _3kEvh",locationLink:"_2RL3a xLon9",locationIcon:"_15of1",locationTitle:"_20NLS _1ByhS",button:"_3JXJ6",editPhotoButtonContainer:"_1RttL",buttonIcon:"_1rYbs",buttonText:"_1efgd"}},yNRK:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var o=a("Wdkd"),n=a("K8Te");const s=[{title:"Public domain images",routeData:n.a.Subcategory({type:"images",category:"stock",subcategory:"public domain"})},{title:"Free stock photos",routeData:n.a.Category({type:"images",category:"stock"})},{title:"Creative Commons images",routeData:n.a.Subcategory({type:"images",category:"stock",subcategory:"creative common"})},{title:"PNG images",routeData:n.a.Subcategory({type:"images",category:"stock",subcategory:"png"})},{title:"Free images",routeData:n.a.Type({type:"images"})}].map(({title:e,routeData:t})=>({title:e,url:o.a.landingPagePath(t)}))}}]);
//# sourceMappingURL=photos-route.e88bf.js.map